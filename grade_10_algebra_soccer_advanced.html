<!DOCTYPE html>
<!--
Math Worksheet HTML
Generated: 2025-08-22 15:17:44
Grade 10: Algebra + Soccer + Advanced + Soccer Problem Solver
Math Topic: Algebra
Sports Context: Soccer
Difficulty Level: Advanced
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression in Performance Prediction - Grade 10 Advanced Mathematics</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsxgraph@1.6.1/distrib/jsxgraphcore.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/jsxgraph@1.6.1/distrib/jsxgraph.css">
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']]
            }
        };
    </script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background-color: #ffffff;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            overflow: visible;
        }          h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.8em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            color: #34495e;
            margin: 30px 0 15px 0;
            font-size: 1.8em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }          h3 {             color: #2c3e50;             margin: 25px 0 15px 0;             font-size: 1.4em;             font-weight: 600;         }          p {             margin-bottom: 15px;             color: #2c3e50;             text-align: justify;         }          .learning-objectives {             background-color: #f8f9fa;             border-left: 5px solid #28a745;             padding: 20px;             margin: 20px 0;             border-radius: 5px;         }          .vocabulary {             background-color: #fff3cd;             border-left: 5px solid #ffc107;             padding: 20px;             margin: 20px 0;             border-radius: 5px;         }          .context {             background-color: #e1f5fe;             border-left: 5px solid #03a9f4;             padding: 20px;             margin: 20px 0;             border-radius: 5px;         }          .example {             background-color: #f3e5f5;             border-left: 5px solid #9c27b0;             padding: 20px;             margin: 20px 0;             border-radius: 5px;         }          .problem-container {             background-color: #f0f8ff;             border: 2px solid #4169e1;             padding: 20px;             margin: 20px 0;             border-radius: 8px;             position: relative;             overflow: visible;         }          .challenge-problem {             background-color: #fff0f5;             border: 2px solid #dc143c;             padding: 20px;             margin: 20px 0;             border-radius: 8px;         }          .answer-section {             display: none;             margin-top: 15px;             padding: 15px;             background-color: #f8f9fa;             border: 1px solid #dee2e6;             border-radius: 5px;         }          .answer-input {             width: 200px;             padding: 8px;             margin: 5px;             border: 2px solid #ddd;             border-radius: 4px;             font-size: 16px;             color: #2c3e50;             background-color: #ffffff;         }          .answer-input:focus {             outline: none;             border-color: #4169e1;             box-shadow: 0 0 5px rgba(65, 105, 225, 0.3);         }          .check-btn {             background-color: #28a745;             color: white;             padding: 10px 20px;             border: none;             border-radius: 5px;             cursor: pointer;             font-size: 16px;             margin: 5px;             min-height: 44px;             min-width: 44px;         }          .check-btn:hover {             background-color: #218838;         }          .show-solution-btn {             background-color: #17a2b8;             color: white;             padding: 8px 16px;             border: none;             border-radius: 5px;             cursor: pointer;             font-size: 14px;             margin: 5px;             min-height: 44px;         }          .show-solution-btn:hover {             background-color: #138496;         }          .show-all-solutions-btn {             background-color: #6c757d;             color: white;             padding: 10px 20px;             border: none;             border-radius: 5px;             cursor: pointer;             font-size: 16px;             margin: 20px 0;             min-height: 44px;             width: 100%;         }          .show-all-solutions-btn:hover {             background-color: #5a6268;         }          .feedback {             margin-top: 10px;             padding: 10px;             border-radius: 5px;             font-weight: bold;         }          .correct {             background-color: #d4edda;             color: #155724;             border: 1px solid #c3e6cb;         }          .incorrect {             background-color: #f8d7da;             color: #721c24;             border: 1px solid #f5c6cb;         }          .jxgbox {             width: 100%;             height: 200px;             margin: 20px 0;             border: 2px solid #2c3e50;             background-color: #ffffff;             position: relative;             overflow: visible;         }          ul {             margin-left: 20px;             margin-bottom: 15px;         }          li {             margin-bottom: 8px;             color: #2c3e50;         }          table {             width: 100%;             border-collapse: collapse;             margin: 20px 0;             background-color: #ffffff;         }          th, td {             border: 1px solid #ddd;             padding: 12px;             text-align: center;             color: #2c3e50;         }          th {             background-color: #f8f9fa;             font-weight: bold;         }          .solution-section {             display: none;             background-color: #f8f9fa;             border: 2px solid #6c757d;             padding: 20px;             margin: 20px 0;             border-radius: 8px;         }          strong {             color: #2c3e50;             font-weight: bold;         }          @media (min-width: 1920px) {             .container {                 max-width: 1200px;             }             .problem-container {                 display: flex;                 gap: 20px;                 flex-wrap: wrap; /* Allow wrapping for sub-elements if needed */             }             .problem-container > div { /* Target direct children for flex distribution */                 flex: 1;                 min-width: 300px; /* Ensure elements don't get too small */             }         }          @media (min-width: 1024px) and (max-width: 1919px) {             .container {                 max-width: 900px;                 padding: 20px;             }         }          @media (min-width: 768px) and (max-width: 1023px) {             .container {                 padding: 15px;             }             h1 {                 font-size: 2.5em;             }             .jxgbox {                 height: 180px;             }         }          @media (min-width: 481px) and (max-width: 767px) {             .container {                 padding: 10px;             }             h1 {                 font-size: 2em;             }             .problem-container {                 flex-direction: column;             }             .answer-input {                 width: 100%;                 font-size: 16px;             }             .check-btn,             .show-solution-btn,             .show-all-solutions-btn {                 width: 100%;                 padding: 12px;                 font-size: 16px;             }             .jxgbox {                 height: 150px;             }         }          @media (max-width: 480px) {             .container {                 padding: 5px;             }             h1 {                 font-size: 1.8em;             }             .jxgbox {                 height: 120px;             }             .answer-input {                 width: 100%;                 font-size: 16px;             }             .check-btn,             .show-solution-btn,             .show-all-solutions-btn {                 width: 100%;                 padding: 12px;                 font-size: 16px;             }         }          @media print {             body {                 background: white;                 color: black;             }             .container {                 max-width: none;                 margin: 0;                 padding: 10px;             }             .answer-section {                 display: block !important;             }             .solution-section {                 display: block !important;             }             .check-btn, .show-solution-btn, .show-all-solutions-btn {                 display: none;             }         }     </style>
</head>
<body>
    <div class="container">
        <h1>Linear Regression in Performance Prediction</h1>
        <p style="text-align: center; font-size: 1.2em; color: #666; margin-bottom: 30px;"><strong>Grade 10 Advanced Mathematics Worksheet</strong></p>

        <hr style="margin: 30px 0; border: 2px solid #3498db;">

        <div class="learning-objectives">
            <h2>📚 Learning Objectives</h2>
            <p>By the end of this lesson, you will be able to:</p>
            <ul>
                <li>Understand and apply linear regression concepts to real-world data.</li>
                <li>Create and analyze scatter plots to identify potential linear relationships.</li>
                <li>Calculate and interpret the equation of a line of best fit.</li>
                <li>Calculate and interpret the correlation coefficient (r).</li>
                <li>Use a linear regression model to make predictions and understand its limitations.</li>
                <li>Analyze residuals to assess the fit of a linear model.</li>
            </ul>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <div class="vocabulary">
            <h2>🔑 Key Vocabulary & Concepts</h2>
            
            <p><strong>Linear Regression</strong>: A statistical method to model the relationship between a dependent variable (y) and an independent variable (x) using a straight line equation \(y = mx + b\).</p>
            
            <p><strong>Correlation Coefficient (r)</strong>: A value between -1 and 1 that measures the strength and direction of a linear relationship.</p>
            <ul>
                <li>\(r = 1\): Perfect positive linear correlation</li>
                <li>\(r = 0\): No linear correlation</li>
                <li>\(r = -1\): Perfect negative linear correlation</li>
            </ul>
            
            <p><strong>Line of Best Fit</strong>: The line that minimizes the sum of the squared residuals, providing the best linear approximation of the data.</p>
            
            <p><strong>Residual</strong>: The vertical distance between an observed data point and the value predicted by the regression line. \(\text{residual} = y_{\text{actual}} - y_{\text{predicted}}\)</p>
            
            <p><strong>Coefficient of Determination (\(r^2\))</strong>: The proportion of the variance in the dependent variable that is predictable from the independent variable. It represents how well the model explains the data.</p>
            
            <p><strong>Extrapolation</strong>: Predicting a value outside the range of the observed data. This can be unreliable.</p>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <div class="context">
            <h2>📖 Real-World Context: Data Analytics with Coach Marcus</h2>
            <p>Coach Marcus, inspired by Barcelona manager Xavi Hernandez's analytical approach, wants to optimize his team's performance using data. He decides to track the relationship between his players' passing accuracy in training and the number of key passes they complete in games. He believes a linear model can help him predict player performance and tailor training sessions.</p>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <div class="example">
            <h2>🎯 Guided Examples with Solutions</h2>
            
            <h3>Example 1: Passing Accuracy vs. Key Passes</h3>
            <p>Coach Marcus collects data from five of his midfielders over several weeks. He plots passing accuracy percentage (\(x\)) against their average key passes per game (\(y\)).</p>
            
            <p><strong>Given Data Points:</strong><br>
            (70, 12), (75, 14), (80, 15), (85, 16), (90, 18)</p>

            <div id="scatterplot1" class="jxgbox"></div>
            
            <p><strong>Step-by-Step Analysis:</strong></p>
            
            <p>1) <strong>Calculate Summary Statistics:</strong></p>
            <ul>
                <li>\(n = 5\)</li>
                <li>\(\sum x = 70+75+80+85+90 = 400\)</li>
                <li>\(\sum y = 12+14+15+16+18 = 75\)</li>
                <li>\(\sum x^2 = 70^2+75^2+80^2+85^2+90^2 = 32250\)</li>
                <li>\(\sum y^2 = 12^2+14^2+15^2+16^2+18^2 = 1145\)</li>
                <li>\(\sum xy = 70(12)+75(14)+80(15)+85(16)+90(18) = 6070\)</li>
            </ul>
            
            <p>2) <strong>Calculate the Slope (\(m\)) and Y-Intercept (\(b\)):</strong></p>
            <ul>
                <li>Slope: \(m = \frac{n\sum xy - (\sum x)(\sum y)}{n\sum x^2 - (\sum x)^2} = \frac{5(6070) - (400)(75)}{5(32250) - (400)^2} = \frac{30350 - 30000}{161250 - 160000} = \frac{350}{1250} = 0.28\)</li>
                <li>Y-Intercept: \(b = \bar{y} - m\bar{x} = (\frac{75}{5}) - 0.28(\frac{400}{5}) = 15 - 0.28(80) = 15 - 22.4 = -7.4\)</li>
                <li><strong>Equation:</strong> \(\hat{y} = 0.28x - 7.4\)</li>
            </ul>
            
            <p>3) <strong>Calculate the Correlation Coefficient (\(r\)):</strong></p>
            \[r = \frac{n\sum xy - \sum x \sum y}{\sqrt{[n\sum x^2 - (\sum x)^2][n\sum y^2 - (\sum y)^2]}} = \frac{350}{\sqrt{[1250][5(1145) - (75)^2]}} = \frac{350}{\sqrt{[1250][100]}} \approx 0.99\]
            
            <p>4) <strong>Interpret Results:</strong> The strong positive correlation (\(r \approx 0.99\)) indicates that passing accuracy is a very strong predictor of key passes per game for this group of players.</p>
            
            <h3>Example 2: Interpreting the Model and Making Predictions</h3>
            <p>Using the model \(\hat{y} = 0.28x - 7.4\):</p>
            
            <p>a) <strong>Interpret the slope:</strong> For each 1% increase in passing accuracy, the model predicts an increase of 0.28 key passes per game.</p>
            
            <p>b) <strong>Interpret the y-intercept:</strong> The y-intercept of -7.4 suggests that a player with 0% passing accuracy would have -7.4 key passes. This is nonsensical in the real world and is an example of why we should not interpret the intercept far outside the range of our data.</p>
            
            <p>c) <strong>Make a prediction:</strong> Predict the key passes for a player with an 82% passing accuracy.<br>
            \(\hat{y} = 0.28(82) - 7.4 = 22.96 - 7.4 = 15.56\). The model predicts about 15.6 key passes.</p>
            
            <h3>Example 3: Understanding Residuals</h3>
            <p>A residual measures the error of a prediction. Let's calculate the residual for the data point (75, 14).</p>
            
            <p>1) <strong>Find the predicted value (\(\hat{y}\)):</strong><br>
            \(\hat{y} = 0.28(75) - 7.4 = 21 - 7.4 = 13.6\)</p>
            
            <p>2) <strong>Calculate the residual:</strong><br>
            \(\text{Residual} = y_{\text{actual}} - y_{\text{predicted}} = 14 - 13.6 = 0.4\)</p>
            
            <p><strong>Interpretation:</strong> The actual value of 14 key passes is 0.4 units <em>above</em> what the model predicted. A positive residual means the model underestimated, while a negative residual means it overestimated.</p>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <h2>💪 Independent Practice Problems</h2>

        <div class="problem-container">
            <h3>Problem 1: Competition Preparation</h3>
            <p>A soccer academy tracks the relationship between students' weekly practice hours (\(x\)) and their skill assessment scores (\(y\)). The regression equation is \(\hat{y} = 3.2x + 47.8\) with a correlation coefficient \(r = 0.89\).</p>
            
            <p>a) Calculate the predicted skill score for a player practicing 12 hours per week.</p>
            <input type="number" id="problem1a" class="answer-input" placeholder="Enter answer" step="0.1">
            <button onclick="checkAnswer('problem1a', 86.2, 'The predicted score is 86.2')" class="check-btn">Check</button>
            <div id="feedback1a" class="feedback"></div>
            
            <p>b) The coefficient of determination is \(r^2 \approx 0.79\). Interpret this value in context.</p>
            <button onclick="toggleSolution('solution1b')" class="show-solution-btn">Show Answer</button>
            <div id="solution1b" class="answer-section">
                <p><em>Answer: 79% of the variation in skill assessment scores can be explained by the variation in weekly practice hours.</em></p>
            </div>
            
            <p>c) Find the residual if the actual score for a player practicing 12 hours was 92.</p>
            <input type="number" id="problem1c" class="answer-input" placeholder="Enter answer" step="0.1">
            <button onclick="checkAnswer('problem1c', 5.8, 'Residual = 92 - 86.2 = 5.8')" class="check-btn">Check</button>
            <div id="feedback1c" class="feedback"></div>
        </div>

        <div class="problem-container">
            <h3>Problem 2: Tournament Analysis</h3>
            <p>During the FIFA World Cup, analysts find that teams' average pass completion rate (\(x\%\)) correlates with goals scored per game (\(y\)). The relationship follows: \(\hat{y} = 0.08x - 4.2\).</p>
            
            <p>a) What are the predicted goals per game for a team with 75% pass completion?</p>
            <input type="number" id="problem2a" class="answer-input" placeholder="Enter answer" step="0.1">
            <button onclick="checkAnswer('problem2a', 1.8, '0.08(75) - 4.2 = 1.8 goals per game')" class="check-btn">Check</button>
            <div id="feedback2a" class="feedback"></div>
            
            <p>b) If a team scores 1.8 goals per game, what is their predicted pass completion rate?</p>
            <input type="number" id="problem2b" class="answer-input" placeholder="Enter answer" step="0.1">
            <button onclick="checkAnswer('problem2b', 75, 'Solving 1.8 = 0.08x - 4.2 gives x = 75%')" class="check-btn">Check</button>
            <div id="feedback2b" class="feedback"></div>
            
            <p>c) Interpret the meaning of the slope in the context of this problem.</p>
            <button onclick="toggleSolution('solution2c')" class="show-solution-btn">Show Answer</button>
            <div id="solution2c" class="answer-section">
                <p><em>Answer: For each 1 percentage point increase in pass completion, the model predicts an increase of 0.08 goals scored per game.</em></p>
            </div>
        </div>

        <div class="problem-container">
            <h3>Problem 3: Advanced Player Analytics</h3>
            <p>A professional club's fitness coach collected data on 25 players' VO₂ max levels (\(x\)) and their total minutes played over a season (\(y\)).</p>
            <ul>
                <li>\(\bar{x} = 58.4\) (VO₂ max), \(\bar{y} = 1847\) (minutes played)</li>
                <li>\(s_x = 4.7\), \(s_y = 423\), \(r = 0.72\)</li>
            </ul>
            
            <p>a) Calculate the regression equation \(\hat{y} = mx + b\). (Hint: \(m = r \frac{s_y}{s_x}\))</p>
            <p>Slope: <input type="number" id="problem3a_slope" class="answer-input" placeholder="m value" step="0.01"></p>
            <p>Intercept: <input type="number" id="problem3a_intercept" class="answer-input" placeholder="b value" step="0.01"></p>
            <button onclick="checkProblem3a()" class="check-btn">Check</button>
            <div id="feedback3a" class="feedback"></div>
            
            <p>b) Interpret the slope of your regression line in context.</p>
            <button onclick="toggleSolution('solution3b')" class="show-solution-btn">Show Answer</button>
            <div id="solution3b" class="answer-section">
                <p><em>Answer: For each 1-unit increase in a player's VO₂ max, the model predicts an increase of approximately 64.8 minutes of playing time over the season.</em></p>
            </div>
            
            <p>c) Is it appropriate to use this model to predict the minutes played for a youth player with a VO₂ max of 40? Explain your reasoning (consider the concept of extrapolation).</p>
            <button onclick="toggleSolution('solution3c')" class="show-solution-btn">Show Answer</button>
            <div id="solution3c" class="answer-section">
                <p><em>Answer: It would not be appropriate. The data was collected on professional players whose VO₂ max levels are likely much higher than 40. Using the model to predict for a value so far outside the original data range is called extrapolation and can lead to very inaccurate results.</em></p>
            </div>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <h2>🏆 Challenge Problems (Competition Level)</h2>

        <div class="challenge-problem">
            <h3>Challenge 1: AMC 10 Style Problem</h3>
            <p>In a soccer tournament, the cumulative number of goals scored by Team A after game \(n\) is modeled by the function \(G(n) = 1.5n^2 - 0.5n\). A linear regression is performed on the number of goals scored in each individual game versus the game number, for games 1 through 10. What is the slope of this regression line?</p>
            
            <input type="number" id="challenge1" class="answer-input" placeholder="Enter slope" step="0.1">
            <button onclick="checkAnswer('challenge1', 3, 'The slope is 3. Goals per game follow g(n) = 3n - 2, which is perfectly linear.')" class="check-btn">Check</button>
            <div id="feedbackc1" class="feedback"></div>
            
            <button onclick="toggleSolution('solutionc1')" class="show-solution-btn">Show Solution</button>
            <div id="solutionc1" class="solution-section">
                <p><strong>Solution:</strong></p>
                <p>1. Find the goals scored in game \(n\), which is \(g(n) = G(n) - G(n-1)\).</p>
                <p>\(g(n) = (1.5n^2 - 0.5n) - [1.5(n-1)^2 - 0.5(n-1)]\)</p>
                <p>\(g(n) = (1.5n^2 - 0.5n) - (1.5(n^2-2n+1) - 0.5n+0.5)\)</p>
                <p>\(g(n) = 1.5n^2 - 0.5n - 1.5n^2 + 3n - 1.5 + 0.5n - 0.5 = 3n - 2\)</p>
                <p>2. The data points are (1, 1), (2, 4), (3, 7), ..., (10, 28). These points lie perfectly on the line \(y = 3x - 2\).</p>
                <p>3. For data that is perfectly linear, the line of best fit is the line itself. Therefore, the slope of the regression line is 3.</p>
            </div>
        </div>

        <div class="challenge-problem">
            <h3>Challenge 2: MathCounts Competition Problem</h3>
            <p>A soccer ball's trajectory follows a parabolic path, but a coach approximates its height over a short horizontal distance with a linear model. The ball's height \(h\) (in feet) versus horizontal distance \(d\) (in feet) from 10 to 20 feet is approximated by the linear model \(\hat{h} = -0.4d + 18\). If the actual parabolic trajectory is \(h = -0.05d^2 + 0.5d + 10\), find the sum of the absolute values of the residuals at \(d = 12, 15, 18\).</p>
            
            <input type="number" id="challenge2" class="answer-input" placeholder="Enter sum" step="0.01">
            <button onclick="checkAnswer('challenge2', 18.15, 'Sum of absolute residuals is 18.15')" class="check-btn">Check</button>
            <div id="feedbackc2" class="feedback"></div>
            
            <button onclick="toggleSolution('solutionc2')" class="show-solution-btn">Show Solution</button>
            <div id="solutionc2" class="solution-section">
                <p><strong>Solution:</strong></p>
                <p>1. Calculate the actual height (\(h\)) and predicted height (\(\hat{h}\)) for each distance \(d\).</p>
                <ul>
                    <li>At \(d=12\): \(h = -0.05(12^2) + 0.5(12) + 10 = -7.2 + 6 + 10 = 8.8\), \(\hat{h} = -0.4(12) + 18 = -4.8 + 18 = 13.2\)</li>
                    <li>At \(d=15\): \(h = -0.05(15^2) + 0.5(15) + 10 = -11.25 + 7.5 + 10 = 6.25\), \(\hat{h} = -0.4(15) + 18 = -6 + 18 = 12\)</li>
                    <li>At \(d=18\): \(h = -0.05(18^2) + 0.5(18) + 10 = -16.2 + 9 + 10 = 2.8\), \(\hat{h} = -0.4(18) + 18 = -7.2 + 18 = 10.8\)</li>
                </ul>
                <p>2. Calculate the absolute residuals: \(|8.8 - 13.2| + |6.25 - 12| + |2.8 - 10.8| = 4.4 + 5.75 + 8 = 18.15\)</p>
            </div>
        </div>

        <div class="challenge-problem">
            <h3>Challenge 3: Conceptual Problem</h3>
            <p>Coach Marcus has a scatter plot of 20 players' sprint speeds vs. their defensive ratings, which shows a strong negative correlation (\(r = -0.85\)). He then adds a new player to the data: a very slow defender who also has a very low defensive rating. This new data point is an outlier. How will adding this outlier likely affect the correlation coefficient \(r\)? Explain your reasoning.</p>
            
            <button onclick="toggleSolution('solutionc3')" class="show-solution-btn">Show Solution</button>
            <div id="solutionc3" class="solution-section">
                <p><strong>Answer:</strong> The correlation coefficient \(r\) will increase (become less negative, closer to 0).</p>
                <p><strong>Explanation:</strong> The original data has a strong negative correlation, meaning the points form a pattern from the top-left to the bottom-right on a scatter plot. The outlier (low sprint speed, low defensive rating) would be in the bottom-left. Adding this point will disrupt the strong linear pattern. It will 'pull' the line of best fit towards it, making the slope less steep (closer to zero). This weakening of the linear relationship will cause the correlation coefficient \(r\) to move closer to 0. Since \(r\) was -0.85, it will increase (e.g., to -0.60).</p>
            </div>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <h2>📊 Data Visualization Exercise</h2>
        <p>Create a scatter plot for the following data representing a goalkeeper's reaction time (in milliseconds) versus their saves per game. Calculate the line of best fit and use it to predict the saves per game for a goalkeeper with a reaction time of 170ms.</p>

        <table>
            <tr>
                <th>Reaction Time (ms)</th>
                <th>Saves per Game</th>
            </tr>
            <tr><td>180</td><td>8.2</td></tr>
            <tr><td>165</td><td>9.1</td></tr>
            <tr><td>200</td><td>7.3</td></tr>
            <tr><td>175</td><td>8.7</td></tr>
            <tr><td>155</td><td>9.8</td></tr>
            <tr><td>190</td><td>7.9</td></tr>
        </table>

        <div id="goalkeeperchart" class="jxgbox"></div>

        <div class="problem-container">
            <p>Predict the saves per game for a goalkeeper with 170ms reaction time:</p>
            <input type="number" id="goalkeeper_prediction" class="answer-input" placeholder="Enter prediction" step="0.01">
            <button onclick="checkAnswer('goalkeeper_prediction', 9.78, 'Using ŷ = -0.09x + 25.08, prediction is approximately 9.78')" class="check-btn">Check</button>
            <div id="feedback_gk" class="feedback"></div>
        </div>

        <hr style="margin: 30px 0; border: 1px solid #ddd;">

        <button onclick="toggleSolution('finalSolutions')" class="show-all-solutions-btn">Show All Solutions</button>
        <div id="finalSolutions" class="solution-section">
            <h2>🎯 Solutions</h2>
            
            <h3>Independent Practice Solutions</h3>
            
            <p><strong>Problem 1:</strong></p>
            <p>a) \(\hat{y} = 3.2(12) + 47.8 = 38.4 + 47.8 = 86.2\). The predicted score is 86.2.</p>
            <p>b) 79% of the variation in skill assessment scores can be explained by the variation in weekly practice hours.</p>
            <p>c) Residual = \(y_{\text{actual}} - y_{\text{predicted}} = 92 - 86.2 = 5.8\).</p>
            
            <p><strong>Problem 2:</strong></p>
            <p>a) \(\hat{y} = 0.08(75) - 4.2 = 6 - 4.2 = 1.8\) goals per game.</p>
            <p>b) \(1.8 = 0.08x - 4.2 \implies 6 = 0.08x \implies x = \frac{6}{0.08} = 75\). The predicted pass completion rate is 75%.</p>
            <p>c) For each 1 percentage point increase in pass completion, the model predicts an increase of 0.08 goals scored per game.</p>
            
            <p><strong>Problem 3:</strong></p>
            <p>a) Slope \(m = r \frac{s_y}{s_x} = 0.72 \times \frac{423}{4.7} \approx 64.79\).<br>
            Intercept \(b = \bar{y} - m\bar{x} = 1847 - 64.79(58.4) \approx 1847 - 3783.74 = -1936.74\).<br>
            Equation: \(\hat{y} = 64.79x - 1936.74\).</p>
            <p>b) For each 1-unit increase in a player's VO₂ max, the model predicts an increase of approximately 64.8 minutes of playing time over the season.</p>
            <p>c) It would not be appropriate. The data was collected on professional players whose VO₂ max levels are likely much higher than 40. Using the model to predict for a value so far outside the original data range is called extrapolation and can lead to very inaccurate results.</p>
            
            <h3>Challenge Problem Solutions</h3>
            <p>Solutions for Challenge Problems are available by clicking 'Show Solution' next to each problem.</p>

            <h3>Data Visualization Exercise Solution</h3>
            <p>1. <strong>Summary Statistics:</strong> \(n=6\), \(\sum x = 1065\), \(\sum y = 51\), \(\sum x^2 = 189875\), \(\sum y^2 = 439.04\), \(\sum xy = 8943.5\).</p>
            <p>2. <strong>Regression Equation:</strong> \(\hat{y} = -0.09x + 25.08\).</p>
            <p>3. <strong>Prediction for 170ms:</strong> \(\hat{y} = -0.09(170) + 25.08 = -15.3 + 25.08 = 9.78\). The model predicts approximately 9.8 saves per game.</p>
        </div>
    </div>

    <script>
        function checkAnswer(inputId, correctAnswer, explanation) {
            const userAnswer = parseFloat(document.getElementById(inputId).value);
            const feedbackElement = document.getElementById('feedback' + inputId.replace('problem', '').replace('challenge', '').replace('_prediction', ''));
            
            if (isNaN(userAnswer)) {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = '✗ Please enter a numerical answer.';
                return;
            }

            if (Math.abs(userAnswer - correctAnswer) < 0.1) { // Tolerance for floating point comparison
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML = '✓ Correct! ' + explanation;
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = '✗ Incorrect. ' + explanation;
            }
        }

        function checkProblem3a() {
            const slope = parseFloat(document.getElementById('problem3a_slope').value);
            const intercept = parseFloat(document.getElementById('problem3a_intercept').value);
            const feedbackElement = document.getElementById('feedback3a');
            
            const correctSlope = 64.79; // Rounded to 2 decimal places
            const correctIntercept = -1936.74; // Rounded to 2 decimal places
            
            if (isNaN(slope) || isNaN(intercept)) {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = '✗ Please enter numerical values for both slope and intercept.';
                return;
            }

            // Increased tolerance for intercept to 5 for flexibility, but could be tighter
            if (Math.abs(slope - correctSlope) < 0.5 && Math.abs(intercept - correctIntercept) < 5) { 
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML = '✓ Correct! m = 0.72 × (423/4.7) ≈ 64.79, b = 1847 - 64.79(58.4) ≈ -1936.74';
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.innerHTML = '✗ Check your calculations. Remember: m = r × (sy/sx), b = ȳ - mх̄';
            }
        }

        function toggleSolution(solutionId) {
            const solution = document.getElementById(solutionId);
            if (solution.style.display === 'none' || solution.style.display === '') {
                solution.style.display = 'block';
            } else {
                solution.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Scatter plot for Example 1
                const board1 = JXG.JSXGraph.initBoard('scatterplot1', {
                    boundingbox: [65, 20, 95, 10], // [xmin, ymax, xmax, ymin]
                    axis: true,
                    showCopyright: false,
                    showNavigation: false,
                    xlabel: 'Passing Accuracy (%)',
                    ylabel: 'Key Passes per Game'
                });
                
                // Data points
                const data1 = [[70, 12], [75, 14], [80, 15], [85, 16], [90, 18]];
                data1.forEach((point, i) => {
                    board1.create('point', point, {
                        name: `P${i+1}`,
                        size: 4,
                        fillColor: '#e74c3c',
                        strokeColor: '#c0392b',
                        fixed: true
                    });
                });
                
                // Regression line
                board1.create('line', [[70, 0.28*70 - 7.4], [90, 0.28*90 - 7.4]], {
                    strokeColor: '#2980b9',
                    strokeWidth: 2,
                    name: 'ŷ = 0.28x - 7.4'
                });
                
                board1.create('text', [72, 19.5, 'Passing Accuracy vs Key Passes'], {
                    fontSize: 14,
                    fontWeight: 'bold',
                    anchorX: 'left',
                    anchorY: 'top'
                });
            } catch (e) {
                console.error('Error creating scatter plot 1:', e);
            }

            try {
                // Goalkeeper data visualization
                const board2 = JXG.JSXGraph.initBoard('goalkeeperchart', {
                    boundingbox: [150, 10.5, 205, 6.5], // [xmin, ymax, xmax, ymin]
                    axis: true,
                    showCopyright: false,
                    showNavigation: false,
                    xlabel: 'Reaction Time (ms)',
                    ylabel: 'Saves per Game'
                });
                
                // Goalkeeper data points
                const gkData = [[180, 8.2], [165, 9.1], [200, 7.3], [175, 8.7], [155, 9.8], [190, 7.9]];
                gkData.forEach((point, i) => {
                    board2.create('point', point, {
                        name: `GK${i+1}`,
                        size: 4,
                        fillColor: '#27ae60',
                        strokeColor: '#229954',
                        fixed: true
                    });
                });
                
                // Regression line for goalkeeper data: ŷ = -0.09x + 25.08
                board2.create('line', [[150, -0.09*150 + 25.08], [200, -0.09*200 + 25.08]], {
                    strokeColor: '#8e44ad',
                    strokeWidth: 2,
                    name: 'ŷ = -0.09x + 25.08'
                });
                
                board2.create('text', [152, 10.2, 'Goalkeeper Reaction Time vs Saves per Game'], {
                    fontSize: 12,
                    fontWeight: 'bold',
                    anchorX: 'left',
                    anchorY: 'top'
                });
            } catch (e) {
                console.error('Error creating goalkeeper chart:', e);
            }
        });
    </script>
</body>
</html>
